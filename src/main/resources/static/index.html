<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>LifeX – Dashboard</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<a href="#main" class="skip-link">Zum Inhalt springen</a>

<header>
    <!-- Logo als dekorative Grafik -->
    <img src="/img/LifeXDatawarehouseLogo.png" alt="">
    <nav aria-label="Hauptnavigation">
        <a href="/index.html" aria-current="page">Dashboard</a>
        <a href="/create.html">Daten anlegen</a>
        <a href="/reports.html">Reports</a>
    </nav>
</header>

<div class="layout">
    <!-- ─────────── Sidebar ─────────── -->
    <aside class="sidebar">
        <section>
            <h2>Shortcuts</h2>

            <!-- 0  Accounts – Gesamtbestand -->
            <div class="shortcut" data-id="sc0" data-default="type:account">
                <button class="head">
                    <span class="rename">✏️</span>
                    <span class="label">Accounts – Gesamtbestand</span>
                    <span class="chev">▶</span>
                </button>
                <div class="panel"><input></div>
            </div>

            <!-- 1  Projekte – aktiv -->
            <div class="shortcut" data-id="sc1"
                 data-default='type:project AND active'>
                <button class="head">
                    <span class="rename">✏️</span>
                    <span class="label">Projekte – aktiv</span>
                    <span class="chev">▶</span>
                </button>
                <div class="panel"><input></div>
            </div>

            <!-- 2  Serviceverträge – In Progress -->
            <div class="shortcut" data-id="sc2"
                 data-default='type:servicecontract AND inprogress'>
                <button class="head">
                    <span class="rename">✏️</span>
                    <span class="label">Serviceverträge – In Progress</span>
                    <span class="chev">▶</span>
                </button>
                <div class="panel"><input placeholder="Lucene-Query (z. B. type:servicecontract AND inprogress)"></div>
            </div>

            <!-- 3  Sites – FireZone Bravo -->
            <div class="shortcut" data-id="sc3"
                 data-default='type:site AND bravo'>
                <button class="head">
                    <span class="rename">✏️</span>
                    <span class="label">Sites – FireZone Bravo</span>
                    <span class="chev">▶</span>
                </button>
                <div class="panel"><input></div>
            </div>

            <!-- 4  Server – Lenovo -->
            <div class="shortcut" data-id="sc4"
                 data-default='type:server AND Lenovo'>
                <button class="head">
                    <span class="rename">✏️</span>
                    <span class="label">Server – Lenovo</span>
                    <span class="chev">▶</span>
                </button>
                <div class="panel"><input placeholder="Lucene-Query (z. B. type:server AND Lenovo)"></div>
            </div>
        </section>

        <!-- Tabellenübersicht -->
        <section class="tables">
            <h2>Tabellen</h2>
            <ul>
                <li onclick="showTable('Account')">Account</li>
                <li onclick="showTable('Project')">Project</li>
                <li onclick="showTable('Site')">Site</li>
                <li onclick="showTable('Server')">Server</li>
                <li onclick="showTable('Clients')">Clients</li> <!-- FIXED -->
                <li onclick="showTable('Radio')">Radio</li>
                <li onclick="showTable('AudioDevice')">AudioDevice</li>
                <li onclick="showTable('PhoneIntegration')">PhoneIntegration</li>
            </ul>
        </section>
    </aside>

    <!-- ─────────── Content ─────────── -->
    <main id="main" class="content">
        <!-- Fortschritt-Balken -->
        <div id="idx-box" aria-live="polite">
            <div id="idx-bar">
                <span role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></span>
            </div>
            <div id="idx-text"></div>
        </div>

        <div id="search-bar">
            <label for="search-input" class="visually-hidden">Globale Suche</label>
            <!-- datalist bleibt für Autocomplete, Icon wird via CSS versteckt -->
            <input id="search-input" placeholder="Global-Suche (Lucene oder normal)" list="sug" autocomplete="off">
            <datalist id="sug"></datalist>
            <button id="search-btn">Suchen</button>
        </div>

        <div id="resultArea" role="status" aria-live="polite" aria-atomic="true">
            <p>Nutze die Suchleiste oder die Bedienelemente links.</p>
        </div>
    </main>

    <!-- ─────────── Hilfe ─────────── -->
    <aside class="help">
        <h2>Lucene Syntax</h2>
        <ul>
            <li><code>tech*</code> Wildcard</li>
            <li><code>"green valley"</code> Phrase</li>
            <li><code>+foo -bar</code> Muss / Nicht</li>
            <li><code>date:[2025-01-01 TO 2025-12-31]</code></li>
            <li>Projektsuche: <code>type:project AND true</code></li>
        </ul>

        <hr>
        <h3>Index-Verwaltung</h3>
        <button id="idx-reindex-side" class="btn-primary">Neu indexieren</button>
        <p style="font-size:.9rem;color:#555">Startet einen kompletten Reindex; der Fortschritt erscheint oben als Balken.</p>
    </aside>
</div>

<script src="/js/app.js"></script>
</body>
</html>
